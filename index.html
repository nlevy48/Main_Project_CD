<!DOCTYPE html>
<html>
<head>
<title>EXAMPLE PAGE</title>
</head>
<body>

<h1>SEPTIC TANK SERVER</h1>

<p>Amount of Methane: <span id="methane"> </span></p>
<p>Water Level: <span id="water_level"> </span></p>
<p>Temperature: <span id="temperature"> </span></p>
<p>Turbidity: <span id="turbidity"> </span></p>

<script>
// Function to fetch data from the server
async function fetchData() {
    try {
        console.log("Fetching data from the server...");
        const response = await fetch('send_sensor_data.php'); // Replace with your server URL
        console.log(response);
        if (!response.ok) {
            console.log(response.statusText);
            throw new Error('Network response was not ok ' + response.statusText);
        }
        const data = await response.json();
        console.log(data);
        
        // Update the HTML elements with the fetched data
        try {
            document.getElementById("methane").textContent = data.Methane_Level[0].methane_value;
            document.getElementById("water_level").textContent = data.Water_Level[0].water_level_value;
            document.getElementById("temperature").textContent = data.Temperature[0].temperature_value;
            document.getElementById("turbidity").textContent = data.Turbidity[0].turbidity_value;
        } catch (error) {
            console.error("Error updating values:", error);
        }
    } catch (error) {
        console.error('There has been a problem with your fetch operation:', error);
    }
}

// Call the fetchData function when the page loads
window.onload = fetchData;
</script>

</body>
</html>